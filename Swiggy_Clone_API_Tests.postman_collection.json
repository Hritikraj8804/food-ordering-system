{
  "info": {
    "name": "Swiggy Clone API - Complete Test Suite",
    "description": "Comprehensive test collection for the Food Ordering System (Swiggy Clone) - Tests role-based access control, AOP logging, and transaction management",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "1. Setup - Create Test Users",
      "item": [
        {
          "name": "Create USER Role Customer",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"John Customer\",\n  \"email\": \"john@customer.com\",\n  \"password\": \"password123\",\n  \"role\": \"USER\"\n}"
            },
            "url": {
              "raw": "http://localhost:8080/api/users/register",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8080",
              "path": ["api", "users", "register"]
            }
          },
          "response": []
        },
        {
          "name": "Create HOTEL Role Owner",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Pizza Palace Owner\",\n  \"email\": \"owner@pizzapalace.com\",\n  \"password\": \"hotelpass123\",\n  \"role\": \"HOTEL\"\n}"
            },
            "url": {
              "raw": "http://localhost:8080/api/users/register",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8080",
              "path": ["api", "users", "register"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "2. Restaurant Management",
      "item": [
        {
          "name": "✅ HOTEL Creates Restaurant (Should Work)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Pizza Palace\",\n  \"address\": \"123 Main Street, Food City\",\n  \"cuisineType\": \"Italian\"\n}"
            },
            "url": {
              "raw": "http://localhost:8080/api/restaurants/2",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8080",
              "path": ["api", "restaurants", "2"]
            }
          },
          "response": []
        },
        {
          "name": "❌ USER Tries to Create Restaurant (Should Fail - 403)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Unauthorized Restaurant\",\n  \"address\": \"456 Fake Street\",\n  \"cuisineType\": \"Unauthorized\"\n}"
            },
            "url": {
              "raw": "http://localhost:8080/api/restaurants/1",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8080",
              "path": ["api", "restaurants", "1"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "3. Order Management & AOP Testing",
      "item": [
        {
          "name": "✅ USER Places Order (AOP + Transaction Test)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"items\": [\n    {\n      \"itemName\": \"Margherita Pizza\",\n      \"quantity\": 2,\n      \"price\": 12.99\n    },\n    {\n      \"itemName\": \"Garlic Bread\",\n      \"quantity\": 1,\n      \"price\": 5.99\n    }\n  ]\n}"
            },
            "url": {
              "raw": "http://localhost:8080/api/orders/1/1",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8080",
              "path": ["api", "orders", "1", "1"]
            }
          },
          "response": []
        },
        {
          "name": "❌ HOTEL Tries to Place Order (Should Fail - 403)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"items\": [\n    {\n      \"itemName\": \"Test Item\",\n      \"quantity\": 1,\n      \"price\": 10.00\n    }\n  ]\n}"
            },
            "url": {
              "raw": "http://localhost:8080/api/orders/2/1",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8080",
              "path": ["api", "orders", "2", "1"]
            }
          },
          "response": []
        },
        {
          "name": "Get User Orders",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8080/api/orders/user/1",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8080",
              "path": ["api", "orders", "user", "1"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "4. Verification Tests",
      "item": [
        {
          "name": "Get User by ID (Customer)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8080/api/users/1",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8080",
              "path": ["api", "users", "1"]
            }
          },
          "response": []
        },
        {
          "name": "Get User by ID (Hotel Owner)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8080/api/users/2",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8080",
              "path": ["api", "users", "2"]
            }
          },
          "response": []
        },
        {
          "name": "Get All Restaurants",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8080/api/restaurants",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8080",
              "path": ["api", "restaurants"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "5. Error Handling Tests",
      "item": [
        {
          "name": "❌ Get Non-existent User (404 Test)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8080/api/users/999",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8080",
              "path": ["api", "users", "999"]
            }
          },
          "response": []
        },
        {
          "name": "❌ Order from Non-existent Restaurant (404 Test)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"items\": [\n    {\n      \"itemName\": \"Test Item\",\n      \"quantity\": 1,\n      \"price\": 10.00\n    }\n  ]\n}"
            },
            "url": {
              "raw": "http://localhost:8080/api/orders/1/999",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8080",
              "path": ["api", "orders", "1", "999"]
            }
          },
          "response": []
        }
      ]
    }
  ]
}